function scrollToGatewayInputError(){var e=jQuery(".gateway-errors,.assisted-cc-input-feedback").first(),t=e.closest("form");t||(t=jQuery("form").first()),t.find('button[type="submit"],input[type="submit"]').prop("disabled",!1).removeClass("disabled").find("i.fas,i.far,i.fal,i.fab").removeAttr("class").addClass("fas fa-arrow-circle-right").find("span").toggleClass("hidden"),e.length&&elementOutOfViewPort(e[0])&&jQuery("html, body").animate({scrollTop:e.offset().top-50},500)}function elementOutOfViewPort(e){var t=e.getBoundingClientRect(),a={};return a.top=t.top<0,a.left=t.left<0,a.bottom=t.bottom>(window.innerHeight||document.documentElement.clientHeight),a.right=t.right>(window.innerWidth||document.documentElement.clientWidth),a.any=a.top||a.left||a.bottom||a.right,a.any}function getRecommendationColors(e,t){var a,n=tinycolor(e),i=tinycolor("fff"),r=Math.round(100*Math.min(n.getBrightness()/255)),o=25;return r<o?n.lighten(o-r):r>100-o&&n.darken(r-(100-o)),a=n.clone().darken(t),a.isLight()&&(i=tinycolor("000")),[n.toHexString(),a.toHexString(),i.toHexString()]}function setRecommendationColors(){var e,t="#9abb3a";jQuery(".product-recommendations .product-recommendation").each(function(){var a=jQuery(this),n=a.data("color");n.length>0&&null!=n.match(/^#[0-9A-Fa-f]{3,6}$/gi)||(n=t),e=getRecommendationColors(n,15),a.css("border-color",e[0]),jQuery(".btn-add",a).css("background-color",e[0]),jQuery(".expander",a).css("color",e[0]),jQuery(".price",a).css("color",e[1]),jQuery(".text",a).css({color:e[2]}),jQuery(".arrow",a).css({"background-color":e[1],color:e[2]})})}function displayRecommendations(e,t,a){var n=jQuery.Deferred(),i=jQuery("#divProductHasRecommendations").data("value"),r=jQuery("#recommendationsModal"),o=jQuery(".cart-btn .badge");return a||i?(jQuery('.cart-body button[type="submit"] i').removeClass("fa-arrow-circle-right").addClass("fa-spinner fa-spin"),WHMCS.http.jqClient.jsonPost({url:e,data:t,success:function(e){e.success&&e.href?(r.on("hide.bs.modal",function(){return window.location=e.href,!1}),jQuery("#btnContinueRecommendationsModal",r).attr("href",e.href).click(function(){jQuery("span",this).removeClass("w-hidden hidden")}),jQuery(".modal-body",r).html("").html(e.html),setRecommendationColors(),r.modal("show"),jQuery("i.fa-spinner.fa-spin:visible").removeClass("fa-spinner fa-spin").addClass("fa-check-circle"),o.text(e.count)):!e.success&&e.href?window.location=e.href:n.resolve(!1)},error:function(){n.resolve(!1)}})):n.resolve(!1),n.promise()}function hasProductDomainLookupEnded(e,t){domainLookupCallCount++,domainLookupCallCount==e&&(t.removeAttr("disabled").removeClass("disabled"),t.find("span").removeClass("invisible"),jQuery('input[name="domainoption"]').iCheck("enable"))}function hasDomainLookupEnded(){domainLookupCallCount++,3==domainLookupCallCount&&(jQuery("#btnCheckAvailability").removeAttr("disabled").removeClass("disabled"),jQuery("#btnCheckAvailability > span").removeClass("invisible"))}function recalctotals(){jQuery("#orderSummaryLoader").is(":visible")||jQuery("#orderSummaryLoader").fadeIn("fast"),jQuery("#orderSummaryLoaderMob").is(":visible")||jQuery("#orderSummaryLoaderMob").fadeIn("fast");var e=Math.floor(1e6*Math.random()+1);window.lastSliderUpdateRequestId=e;var t=WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php","ajax=1&a=confproduct&calctotal=true&"+jQuery("#frmConfigureProduct").serialize());t.done(function(t){if(e==window.lastSliderUpdateRequestId){let e=jQuery("#producttotal").data("summary-style");jQuery("#producttotal").html(t),"primary"==e&&jQuery("#producttotal").find(".btn-checkout").removeClass(".btn-primary").addClass("btn-primary-faded"),jQuery("#producttotalmob").html(t)}}),t.always(function(){jQuery("#orderSummaryLoader").delay(500).fadeOut("slow"),jQuery("#orderSummaryLoaderMob").delay(500).fadeOut("slow"),$("#sticky-sidebar").stickySidebar("updateSticky")})}function recalculateRenewalTotals(){var e="/cart/domain/renew/calculate";jQuery("#serviceRenewals").length>=1&&(e="/cart/service/renew/calculate"),jQuery("#orderSummaryLoader").is(":visible")||jQuery("#orderSummaryLoader").fadeIn("fast");var t=Math.floor(1e6*Math.random()+1);window.lastSliderUpdateRequestId=t,jQuery.get(WHMCS.utils.getRouteUrl(e)).done(function(e){if(t===window.lastSliderUpdateRequestId){let t=jQuery("#producttotal").data("summary-style");jQuery("#producttotal").html(e.body),"primary"==t&&jQuery("#producttotal").find(".btn-checkout").removeClass(".btn-primary").addClass("btn-primary-faded"),jQuery("#producttotalmob").html(e.body)}}).always(function(){jQuery("#orderSummaryLoader").delay(500).fadeOut("slow"),jQuery("#orderSummaryLoaderMob").delay(500).fadeOut("slow")})}function removeItem(e,t,a=null){null!==a&&jQuery("#inputRemoveItemRenewalType").val(a),jQuery("#inputRemoveItemType").val(e),jQuery("#inputRemoveItemRef").val(t),jQuery("#modalRemoveItem").modal("show")}function selectDomainPeriodInCart(e,t,a,n){var i=jQuery("#orderSummaryLoader"),r=jQuery("#orderSummaryLoaderMob");i.fadeIn("fast"),r.fadeIn("fast"),jQuery("[name='"+e+"Pricing']").html("<span data-domain-price-multi-price>"+t+"/"+a+n+'</span><span class="caret"></span>');var o=jQuery.post(window.location.pathname,{domain:e,period:a,a:"updateDomainPeriod",token:csrfToken});o.done(function(e){"undefined"!=typeof stripe&&updateStripe(),e.domains.forEach(function(e){jQuery("[name='"+e.domain+"Pricing']").closest(".cart-item-price").find(".renewal-price").html(e.renewprice+e.shortRenewalYearsLanguage)}),jQuery("[data-subtotal]").find(".item-value").html(e.subtotal),e.promotype&&jQuery("#discount").html(e.discount),e.taxrate&&jQuery("#taxTotal1").html(e.taxtotal),e.taxrate2&&jQuery("#taxTotal2").html(e.taxtotal2);var t=jQuery("#recurring");t.find("li").not(".faded").hide(),e.totalrecurringannually&&jQuery("#recurringAnnually").show().find(".item-value").html(e.totalrecurringannually),e.totalrecurringbiennially&&jQuery("#recurringBiennially").show().find(".item-value").html(e.totalrecurringbiennially),e.totalrecurringmonthly&&jQuery("#recurringMonthly").show().find(".item-value").html(e.totalrecurringmonthly),e.totalrecurringquarterly&&jQuery("#recurringQuarterly").show().find(".item-value").html(e.totalrecurringquarterly),e.totalrecurringsemiannually&&jQuery("#recurringSemiAnnually").show().find(".item-value").html(e.totalrecurringsemiannually),e.totalrecurringtriennially&&jQuery("#recurringTriennially").show().find(".item-value").html(e.totalrecurringtriennially),jQuery("#totalDueToday").html(e.total),jQuery("#totalDueTodayMob").html(e.total)}),o.always(function(){i.delay(500).fadeOut("slow"),r.delay(500).fadeOut("slow")})}function validate_captcha(e){var t=jQuery("#g-recaptcha-response"),a=jQuery("#divDynamicRecaptcha"),n=jQuery("#inputCaptcha");if(t.length&&!t.val())return a.tooltip("show"),!1;if(n.length&&!n.val())return n.tooltip("show"),!1;var i=jQuery.post(e.attr("action"),e.serialize()+"&a=validateCaptcha","json");i.done(function(t){t.error?(jQuery("#inputCaptcha").attr("data-original-title",t.error).tooltip("show"),n.length&&jQuery("#inputCaptchaImage").replaceWith('<img id="inputCaptchaImage" src="'+whmcsBaseUrl+"/includes/verifyimage.php?nocache="+(new Date).getTime()+'" align="middle" />')):(jQuery("#captchaContainer").remove(),e.trigger("submit"))})}function loadMoreSuggestions(){var e,t=jQuery("#domainSuggestions");for(e=1;e<=10;e++){if(!(furtherSuggestions>0))return void jQuery("div.more-suggestions").find("a").addClass("hidden").end().find("span.no-more").removeClass("hidden");t.find("li.domain-suggestion.hidden.clone:first").not().hide().removeClass("hidden").slideDown(),furtherSuggestions=t.find("li.domain-suggestion.clone.hidden").length}}function validateCheckoutCreditCardInput(e){var t=jQuery('input[name="ccinfo"]:checked').val(),a=(checkoutForm.find('*[type="submit"]'),null),n=!0,i=checkoutForm.find('input[name="paymentmethod"]:checked'),r=i.hasClass("is-credit-card"),o="RemoteCreditCard"===i.data("payment-type"),d=jQuery("#inputCardNumber");if(checkoutForm.find(".form-group").removeClass("has-error"),checkoutForm.find(".field-error-msg").hide(),r&&!o){var s=checkoutForm.find("#inputCardCVV2");if("new"===t){if(s=checkoutForm.find("#inputCardCVV"),a=jQuery.payment.cardType(checkoutForm.find("#inputCardNumber").val()),!jQuery.payment.validateCardNumber(checkoutForm.find("#inputCardNumber").val())||d.hasClass("unsupported")){var l=d.data("message-invalid");d.hasClass("unsupported")&&(l=d.data("message-unsupported")),checkoutForm.find("#inputCardNumber").setInputError(l).showInputError(),n=!1}jQuery.payment.validateCardExpiry(checkoutForm.find("#inputCardExpiry").payment("cardExpiryVal"))||(checkoutForm.find("#inputCardExpiry").showInputError(),n=!1)}s.is(":visible")&&!jQuery.payment.validateCardCVC(s.val(),a)&&(s.showInputError(),n=!1),n||(e.preventDefault(),setTimeout(function(){$("#checkout .loader").addClass("hidden"),$("#checkout span").removeClass("invisible hidden"),$("#checkout2 .loader").addClass("hidden"),$("#checkout2 span").removeClass("invisible hidden"),$(".btn-checkout").removeClass("disabled").prop("disabled",!1)},1500))}}function selectPreferredCard(){var e=jQuery('input[name="ccinfo"]:visible'),t=e.first(),a=e.filter("[data-order-preference=0]");a.length&&(t=a),t.iCheck("check")}function selectProductPeriodInCart(e,t,a){jQuery("[name='"+e+"ProductPricing']").find(".cart-item-price").html(a);let n=jQuery("[name='"+e+"ProductPricing']").closest(".prod-price").find(".prorata-date");var i=jQuery("#orderSummaryLoader"),r=jQuery("#orderSummaryLoaderMob");i.fadeIn("fast"),r.fadeIn("fast"),WHMCS.http.jqClient.post("cart.php?a=checkout","selectProductPeriod=1&pi="+e+"&pc="+t).promise().done(function(t){t.domains.length>0&&t.domains.forEach(function(e){if("register"==e.type){let t=$('[data-domain-price-single="'+e.domain+'"]'),a=$('[data-domain-price-multi="'+e.domain+'"]'),n=Object.keys(e.pricing).length;if(n>1){if(a.hasClass("hidden")){let n=a.find("[data-domain-price-multi-price]"),i=a.find(".dropdown-menu li"),r=a.find(".renewal-price");if(1==i.length){n.html(e.price+e.shortYearsLanguage),r.html(e.renewprice+e.shortRenewalYearsLanguage);let t=a.find(".dropdown-menu"),i=t.data("domain-lang-year"),o=t.data("domain-lang-years"),d="";t.empty(),Object.entries(e.pricing).forEach(a=>{const[n,r]=a;d=1==n?i:o;let s=`<li>\n                                        <a href="#" onclick="selectDomainPeriodInCart('${e.domain}', '${r.register}', ${n}, '${d}');return false;">\n                                            ${n} ${d} @ ${r.register}\n                                        </a>\n                                    </li>\n                                    `;t.append(s)})}t.addClass("hidden"),a.removeClass("hidden")}}else if(t.hasClass("hidden")){let n=t.find("[data-domain-price-single-price]"),i=t.find(".renewal-price");n.html(e.price+e.shortYearsLanguage),i.html(e.renewprice+e.shortRenewalYearsLanguage),t.removeClass("hidden"),a.addClass("hidden")}}}),"undefined"!=typeof stripe&&updateStripe(),jQuery("[data-subtotal] .item-value").html(t.subtotal),t.promotype&&jQuery("#discount").html(t.discount),t.taxrate&&jQuery("#taxTotal1").html(t.taxtotal),t.taxrate2&&jQuery("#taxTotal2").html(t.taxtotal2);var a=jQuery("#recurring");a.find("li").not(".faded").hide(),t.totalrecurringannually&&jQuery("#recurringAnnually").show().find(".item-value").html(t.totalrecurringannually),t.totalrecurringbiennially&&jQuery("#recurringBiennially").show().find(".item-value").html(t.totalrecurringbiennially),t.totalrecurringmonthly&&jQuery("#recurringMonthly").show().find(".item-value").html(t.totalrecurringmonthly),t.totalrecurringquarterly&&jQuery("#recurringQuarterly").show().find(".item-value").html(t.totalrecurringquarterly),t.totalrecurringsemiannually&&jQuery("#recurringSemiAnnually").show().find(".item-value").html(t.totalrecurringsemiannually),t.totalrecurringtriennially&&jQuery("#recurringTriennially").show().find(".item-value").html(t.totalrecurringtriennially),n.length&&t.products[e].proratadate&&n.html(t.products[e].proratadate),$("input[value='producttrialmanager']").is(":checked")&&(t.total=t.total.replace(/[0-9]+[.,]+[0-9]+/,"0.00")),jQuery("#totalDueToday").html(t.total),i.delay(500).fadeOut("slow"),r.delay(500).fadeOut("slow")})}function removeAddonItem(e,t,a){let n=jQuery("#modalRemoveAddon").find("[data-remove-addon-confirm]");n.attr("data-pid",e),n.attr("data-type",t),n.attr("data-aid",a),jQuery("#modalRemoveAddon").modal("show")}function removeAddonConfirm(e){let t=e.data("pid"),a=e.data("type"),n=e.data("aid");WHMCS.http.jqClient.post("cart.php?a=checkout","removeAddon=1&pi="+t+"&pt="+a+"&ai="+n).promise().done(function(e){location.reload()})}function checkTos(e){$("#accepttos").prop("checked",e)}function updateStripe(){"undefined"!=typeof stripe&&jQuery.post(window.location.pathname,{a:"checkout"}).done(function(){jQuery.post(window.location.pathname,{rsAction:"getStripeAmount"}).done(function(e){e.amount&&(amount=e.amount,initStripe())})})}(function(e){WHMCS.hasModule("authn")||WHMCS.loadModule("authn",e)})({provider:function(){var e=!1;return this.feedbackContainer=function(){return jQuery(".providerLinkingFeedback")},this.btnContainer=function(){return jQuery(".providerPreLinking")},this.feedbackMessage=function(e){void 0===e&&(e="complete_sign_in");var t=jQuery("p.providerLinkingMsg-preLink-"+e);return t.length?t.first().html():""},this.showProgressMessage=function(t){this.feedbackContainer().fadeIn("fast",function(){"function"!=typeof t||e||(e=!0,t())})},this.preLinkInit=function(e){var t='<i class="fas fa-fw fa-spinner fa-spin"></i> ';this.feedbackContainer().removeClass("alert-danger alert-success").addClass("alert alert-info").html(t+this.feedbackMessage()).hide();var a=this.btnContainer();if(a.length)if(a.data("hideOnPrelink")){var n=this;a.fadeOut("false",function(){n.showProgressMessage(e)})}else a.data("disableOnPrelink")?(a.find(".btn").addClass("disabled"),this.showProgressMessage(e)):this.showProgressMessage(e);else this.showProgressMessage(e)},this.displayError=function(e,t,a){jQuery("#providerLinkingMessages .provider-name").html(e);var n=this.feedbackMessage("connect_error");if(t){var i=this.feedbackMessage(t);i&&(n=i)}a&&$(".btn-logged-in-admin").length>0&&(n+=" Error: "+a),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(n).slideDown()},this.displaySuccess=function(e,t,a){var n=a.icon,i=t.htmlTarget,r=t.targetLogin,o=t.targetRegister,d=a.name,s="";switch(e.result){case"logged_in":case"2fa_needed":s=this.feedbackMessage("2fa_needed"),this.feedbackContainer().removeClass("alert-danger alert-warning alert-success").addClass("alert alert-info").html(s),window.location=e.redirect_url?decodeURIComponent(e.redirect_url):decodeURIComponent(t.redirectUrl);break;case"linking_complete":var l="";l=e.remote_account.email?e.remote_account.email:e.remote_account.firstname+" "+e.remote_account.lastname,l=l.trim(),s=this.feedbackMessage("linking_complete").trim().replace(":displayName",d),l&&(s=s.replace(/\.$/," ("+l+").")),this.feedbackContainer().removeClass("alert-danger alert-warning alert-info").addClass("alert alert-success").html(n+s);break;case"login_to_link":if(i===r)s=this.feedbackMessage("login_to_link-signin-required"),this.feedbackContainer().removeClass("alert-danger alert-success alert-info").addClass("alert alert-warning").html(n+s);else{var u=jQuery("input[name=email]"),c=jQuery("input[name=firstname]"),h=jQuery("input[name=lastname]");if(""===u.val()&&u.val(e.remote_account.email),""===c.val()&&c.val(e.remote_account.firstname),""===h.val()&&h.val(e.remote_account.lastname),i===o)"object"==typeof WHMCS.client.registration&&WHMCS.client.registration.prefillPassword(),s=this.feedbackMessage("login_to_link-registration-required"),this.feedbackContainer().fadeOut("slow",function(){$(this).removeClass("alert-danger alert-success alert-info").addClass("alert alert-warning").html(n+s).fadeIn("fast")});else{"object"==typeof WHMCS.client.registration&&WHMCS.client.registration.prefillPassword();var m=this;this.feedbackContainer().each(function(e,t){var a=$(t),i=a.siblings("div .providerPreLinking").data("linkContext");a.fadeOut("slow",function(){s="checkout-new"===i?m.feedbackMessage("checkout-new"):m.feedbackMessage("login_to_link-signin-required"),a.removeClass("alert-danger alert-success alert-info").addClass("alert alert-warning").html(n+s).fadeIn("fast")})})}}break;case"other_user_exists":s=this.feedbackMessage("other_user_exists"),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(n+s).slideDown();break;case"already_linked":s=this.feedbackMessage("already_linked"),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(n+s).slideDown();break;default:s=this.feedbackMessage("default"),this.feedbackContainer().removeClass("alert-info alert-success").addClass("alert alert-danger").html(n+s).slideDown()}},this.signIn=function(e,t,a,n,i){jQuery.ajax(e).done(function(e){n(),WHMCS.authn.provider.displaySuccess(e,t,a);var i=jQuery("#tableLinkedAccounts");i.length&&WHMCS.ui.dataTable.getTableById("tableLinkedAccounts").ajax.reload()}).error(function(){i(),WHMCS.authn.provider.displayError()})},this}}),function(e){WHMCS.hasModule("client")||WHMCS.loadModule("client",e)}({registration:function(){return this.prefillPassword=function(e){if(e=e||{},void 0===e.hideContainer){var t=jQuery("#inputSecurityQId").attr("id")?"#containerPassword":"#containerNewUserSecurity";e.hideContainer=jQuery(t),e.hideInputs=!0}else"string"==typeof e.hideContainer&&e.hideContainer.length&&(e.hideContainer=jQuery(e.hideContainer));void 0===e.form&&(e.form={password:[{id:"inputNewPassword1"},{id:"inputNewPassword2"}]});var a=function(){for(var t=WHMCS.utils.simpleRNG(),a=0,n=e.form.password.length;a<n;a++)jQuery("#"+e.form.password[a].id).val(t).trigger("keyup")};e.hideInputs?e.hideContainer.slideUp("fast",a):a()},this}}),function(e){WHMCS.hasModule("http")||WHMCS.loadModule("http",e)}({jqClient:function(){return _getSettings=function(e,t,a,n){return"object"==typeof e?e:("function"==typeof t&&(a=t,t=null),{url:e,data:t,success:a,dataType:n})},this.get=function(e,t,a,n){return WHMCS.http.client.request(jQuery.extend(_getSettings(e,t,a,n),{type:"GET"}))},this.post=function(e,t,a,n){return WHMCS.http.client.request(jQuery.extend(_getSettings(e,t,a,n),{type:"POST"}))},this.jsonGet=function(e){e=e||{},this.get(e.url,e.data,function(t){t.warning?(console.log("[WHMCS] Warning: "+t.warning),"function"==typeof e.warning&&e.warning(t.warning)):t.error?(console.log("[WHMCS] Error: "+t.error),"function"==typeof e.error&&e.error(t.error)):"function"==typeof e.success&&e.success(t)},"json").fail(function(t,a){console.log("[WHMCS] Fail: "+a),"function"==typeof e.fail&&e.fail(a,t)}).always(function(){"function"==typeof e.always&&e.always()})},this.jsonPost=function(e){e=e||{},this.post(e.url,e.data,function(t){t.warning?(console.log("[WHMCS] Warning: "+t.warning),"function"==typeof e.warning&&e.warning(t.warning)):t.error?(console.log("[WHMCS] Error: "+t.error),"function"==typeof e.error&&e.error(t.error)):"function"==typeof e.success&&e.success(t)},"json").error(function(t,a){console.log("[WHMCS] Error: "+a),"function"==typeof e.fail&&e.fail(a)}).always(function(){"function"==typeof e.always&&e.always()})},this},client:function(){var e=["get","post","put","delete"],t=this;return _beforeRequest=function(e){return void 0===e.type&&(e.type="GET"),e},this.request=function(e){return e=_beforeRequest(e||{}),jQuery.ajax(e)},jQuery.each(e,function(e,a){t[a]=function(e,t){return function(a){return a=a||{},a.type=e.toUpperCase(),t.request(a)}}(a,t)}),this}}),function(e){WHMCS.hasModule("ui")||WHMCS.loadModule("ui",e)}({confirmation:function(){var e=[];return this.register=function(t){return void 0===t&&(t="[data-toggle=confirmation]"),e.indexOf(t)<0&&e.push(t),jQuery(t).confirmation({rootSelector:t}),e},this},dataTable:function(){return this.tables={},this.register=function(){var e=this;jQuery("table.data-driven").each(function(t,a){e.getTableById(a.id,void 0)})},this.getTableById=function(e,t){var a=this,n=jQuery("#"+e);if(void 0===a.tables[e])void 0===t&&(t={dom:'<"listtable"ift>pl',paging:!1,lengthChange:!1,searching:!1,ordering:!0,info:!1,autoWidth:!0,columns:[],lengthMenu:[10,25,50,100,500,1e3],language:{emptyTable:n.data("langEmptyTable")?n.data("langEmptyTable"):"No records found"}}),jQuery.each(n.data(),function(e,a){if(void 0!==a)if("ajaxUrl"!==e)if("lengthChange"!==e){if("pageLength"!==e)return"langEmptyTable"===e?(void 0===t.language&&(t.language={}),void(t.language.emptyTable=a)):"langZeroRecords"===e?(void 0===t.language&&(t.language={}),void(t.language.zeroRecords=a)):void(t.key=a);t.pageLength=a}else t.lengthChange=a;else t.ajax={url:a}}),jQuery.each(n.find("th"),function(){void 0===t.columns&&(t.columns=[]),t.columns.push({data:jQuery(this).data("name")})}),a.tables[e]=a.initTable(n,t);else if(void 0!==t){var i=a.tables[e],r=i.init(),o=jQuery.extend(r,t);i.destroy(),a.tables[e]=a.initTable(n,o)}return a.tables[e]},this.initTable=function(e,t){var a=e.DataTable(t),n=this;return e.data("on-draw")?a.on("draw.dt",function(t,a){var n=e.data("on-draw");"function"==typeof window[n]&&window[n](t,a)}):e.data("on-draw-rebind-confirmation")&&a.on("draw.dt",function(e){n.rebindConfirmation(e)}),a},this.rebindConfirmation=function(e){for(var t=this,a=e.target.id,n=WHMCS.ui.confirmation.register(),i=0,r=n.length;i<r;i++)jQuery(n[i]).on("confirmed.bs.confirmation",function(e){e.preventDefault(),WHMCS.http.jqClient.post(jQuery(e.target).data("target-url"),{token:csrfToken}).done(function(e){"success"!==e.status&&"okay"!==e.status||t.getTableById(a,void 0).ajax.reload()})})},this},clipboard:function(){return this.copy=function(e){e.preventDefault();var t=$(e.currentTarget),a=$(t).data("clipboard-target"),n=$(a).parent();try{var i=$("<textarea>").css("position","fixed").css("opacity","0").css("width","1px").css("height","1px").val($(a).val());n.append(i),i.focus().select(),document.execCommand("copy")}finally{i.remove()}t.tooltip({trigger:"click",placement:"bottom"}),WHMCS.ui.toolTip.setTip(t,"Copied!"),WHMCS.ui.toolTip.hideTip(t)},this},toolTip:function(){this.setTip=function(e,t){var a=e.data("bs.tooltip");return"in"!==a.hoverState&&(a.hoverState="in"),e.attr("data-original-title",t),a.show(),a},this.hideTip=function(e,t){return t||(t=2e3),setTimeout(function(){e.data("bs.tooltip").hide()},t)}},jsonForm:function(){return this.managedElements="input,textarea,select",this.initFields=function(e){var t=this;$(e).find(t.managedElements).each(function(){var e=this;$(e).on("keypress change",function(){t.fieldHasError(e)&&t.clearFieldError(e)})})},this.init=function(e){var t=this;t.initFields(e),$(e).on("submit",function(a){a.preventDefault(),a.stopPropagation(),t.clearErrors(e);var n=$(e).parents('.modal[role="dialog"]').first();$(n).length&&($(n).on("show.bs.modal hidden.bs.modal",function(){t.clearErrors(e)}),$(n).on("show.bs.modal",function(){$(e)[0].reset()})),WHMCS.http.client.post({url:$(e).attr("action"),data:$(e).serializeArray()}).done(function(a){t.onSuccess(e,a)}).fail(function(a){t.onError(e,a)}).always(function(a){t.onRequestComplete(e,a)})})},this.initAll=function(){var e=this;$('form[data-role="json-form"]').each(function(){var t=this;e.init(t)})},this.markFieldErrors=function(e,t){var a,n,i=this,r=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o]),n=i.managedElements.split(",").map(function(e){return e+'[name="'+o+'"]'}).join(","),a=$(e).find(n),r&&($(a).parents(".form-group").addClass("has-error"),$(a).attr("title",r),$(a).tooltip());$(e).find(".form-group.has-error input[title]").first().tooltip("show")},this.fieldHasError=function(e){return $(e).parents(".form-group").hasClass("has-error")},this.clearFieldError=function(e){try{$(e).tooltip("dispose")}catch(t){$(e).tooltip("destroy")}$(e).parents(".form-group").removeClass("has-error")},this.onSuccess=function(e,t){var a=$(e).data("on-success");"function"==typeof a&&a(t.data)},this.onError=function(e,t){t.responseJSON&&t.responseJSON.fields&&"object"==typeof t.responseJSON.fields?this.markFieldErrors(e,t.responseJSON.fields):console.log("Unknown error - please try again later.");var a=$(e).data("on-error");"function"==typeof a&&a(t)},this.clearErrors=function(e){var t=this;$(e).find(t.managedElements).each(function(){t.clearFieldError(this)})},this.onRequestComplete=function(e,t){},this},effects:function(){this.errorShake=function(e){t=t||{};var t=$.extend({direction:"left",distance:8,times:3,speed:90},t);return e.each(function(){var e=$(this),a={position:e.css("position"),top:e.css("top"),bottom:e.css("bottom"),left:e.css("left"),right:e.css("right")};e.css("position","relative");var n="up"===t.direction||"down"===t.direction?"top":"left",i="up"===t.direction||"left"===t.direction?"pos":"neg",r={},o={},d={};r[n]=("pos"===i?"-=":"+=")+t.distance,o[n]=("pos"===i?"+=":"-=")+2*t.distance,d[n]=("pos"===i?"-=":"+=")+2*t.distance,e.animate(r,t.speed);for(var s=1;s<t.times;s++)e.animate(o,t.speed).animate(d,t.speed);e.animate(o,t.speed).animate(r,t.speed/2,function(){e.css(a)})})}}}),function(e){WHMCS.hasModule("form")||WHMCS.loadModule("form",e)}(function(){return this.checkAllBound=!1,this.register=function(){this.checkAllBound||(this.bindCheckAll(),this.checkAllBound=!0)},this.bindCheckAll=function(){var e=".btn-check-all";jQuery("body").on("click",e,function(e){var t=jQuery(e.target),a=jQuery("#"+t.data("checkbox-container")+' input[type="checkbox"]');if(t.data("btn-check-toggle")){var n="Deselect All",i="Select All";t.data("label-text-deselect")&&(n=t.data("label-text-deselect")),t.data("label-text-select")&&(i=t.data("label-text-select")),t.hasClass("toggle-active")?(a.prop("checked",!1),t.text(i),t.removeClass("toggle-active")):(a.prop("checked",!0),t.text(n),t.addClass("toggle-active"))}else t.data("btn-toggle-on")?a.prop("checked",!0):a.prop("checked",!1)})},this.reloadCaptcha=function(e){"undefined"!=typeof grecaptcha?grecaptcha.reset():e||(e=jQuery("#inputCaptchaImage"));var t=jQuery(e).data("src");jQuery(e).attr("src",t+"?nocache="+(new Date).getTime());var a=jQuery("#inputCaptcha");a.length&&a.val("")},this});var recaptchaLoadComplete=!1,recaptchaCount=0,recaptchaType="recaptcha",recaptchaValidationComplete=!1;(function(e){WHMCS.hasModule("recaptcha")||WHMCS.loadModule("recaptcha",e)})(function(){return this.register=function(){if(!recaptchaLoadComplete){var e=[],t=jQuery(".btn-recaptcha").parents("form"),a=!1;if(t.each(function(t,n){if("undefined"!=typeof recaptchaSiteKey){recaptchaCount+=1;var i=jQuery(n),r=i.find(".btn-recaptcha"),o="undefined"!=typeof requiredText?requiredText:"Required",d="divDynamicRecaptcha"+recaptchaCount;a=r.hasClass("btn-recaptcha-invisible");var s=i.find("#"+d+" .g-recaptcha"),l=i.find(".recaptcha-container"),u=i;l.length&&(l.attr("id",l.attr("id")+recaptchaCount),u=l),s.length||(u.append('<div id="#'+d+'" class="g-recaptcha"></div>'),s=u.find("#"+d)),a||s.data("toggle","tooltip").data("placement","bottom").data("trigger","manual").attr("title",o).hide();var c=i.find("input[name='submit']");if(c.length){var h=i.prop("action");i.prop("action",h+"&submit=1"),c.remove()}var m=d+"Callback";window[m]=function(){a&&i.submit()},a?(recaptchaType="invisible",i.on("submit.recaptcha",function(e){var t=i.find(".g-recaptcha").data("recaptcha-id");grecaptcha.getResponse(t).trim()?recaptchaValidationComplete=!0:(e.preventDefault(),grecaptcha.execute(t),recaptchaValidationComplete=!1)})):(e.push(function(){s.slideDown("fast",function(){s.find(":first").addClass("center-block")})}),e.push(function(){s.find(":first").addClass("center-block")}))}else console.log("Recaptcha site key not defined")}),window.recaptchaLoadCallback=function(){jQuery(".g-recaptcha").each(function(e,t){var a=jQuery(t),n=a.closest("form"),i=n.find(".btn-recaptcha"),r=a.attr("id").substring(1),o=grecaptcha.render(t,{sitekey:recaptchaSiteKey,size:i.hasClass("btn-recaptcha-invisible")?"invisible":"normal",callback:r+"Callback"});a.data("recaptcha-id",o)})},t.length){var n="https://www.google.com/recaptcha/api.js?onload=recaptchaLoadCallback&render=explicit";jQuery.getScript(n,function(){for(var t=e.length-1;t>=0;t--)e[t]()})}recaptchaLoadComplete=!0}},this}),function(e){WHMCS.hasModule("utils")||WHMCS.loadModule("utils",e)}(function(){return this.simpleRNG=function(){for(var e="./$_-#!,^*()|",t=0,a=0;t<3;a++)t+=Math.floor(10*Math.random()/2);t=Math.floor(t);for(var n="",i=0;i<t;i++)v=(Math.random()+1).toString(24).split(".")[1],Math.random()>.5?n+=btoa(v).substr(0,4):n+=v,Math.random()>.5&&(n+=e.substr(Math.floor(13*Math.random()),1));return n},this.getRouteUrl=function(e){return whmcsBaseUrl+"/index.php?rp="+e},this.validateBaseUrl=function(){void 0===window.whmcsBaseUrl?(console.log("Warning: The WHMCS Base URL definition is missing from your active template. Please refer to https://docs.whmcs.com/WHMCS_Base_URL_Template_Variable for more information and details of how to resolve this warning."),window.whmcsBaseUrl=this.autoDetermineBaseUrl(),window.whmcsBaseUrlAutoSet=!0):""===window.whmcsBaseUrl&&void 0!==window.whmcsBaseUrlAutoSet&&!0===window.whmcsBaseUrlAutoSet&&(window.whmcsBaseUrl=this.autoDetermineBaseUrl())},this.autoDetermineBaseUrl=function(){var e=window.location.href,t=-1;if(void 0!==e&&(t=e.indexOf(".php")),-1===t&&(e=jQuery("#Primary_Navbar-Home a").attr("href"),void 0!==e&&(t=e.indexOf(".php"))),-1!==t){e=e.substring(0,t);var a=e.lastIndexOf("/");if(!1!==a)return e.substring(0,a)}return""},this.normaliseStringValue=function(e){return e?e.toLowerCase().replace(/\s/g,"-"):""},this.generatePassword=function(e){for(var t=this.getPasswordCharacterSet(),a="",n=0;e>n;n++)a+=t[this.randomInt(t.length)];return a},this.getPasswordCharacterSet=function(){for(var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%()*+,-.:;=@_|{ldelim}{rdelim}~",t=[],a=0;e.length>a;a++){var n=e.charCodeAt(a);if(!(55296>n||n>=57344)){if(56320>n&&e.length>a+1){var i=e.charCodeAt(a+1);if(i>=56320&&57344>i){r=e.substring(a,a+2);a++,-1==t.indexOf(r)&&t.push(r);continue}}throw"Invalid UTF-16"}var r=e.charAt(a);-1==t.indexOf(r)&&t.push(r)}return t},this.randomInt=function(e){var t=this.randomIntMathRandom(e);return t=(t+this.randomIntBrowserCrypto(e))%e,t},this.randomIntMathRandom=function(e){var t=Math.floor(Math.random()*e);if(0>t||t>=e)throw"Arithmetic exception";return t},this.randomIntBrowserCrypto=function(e){var t=null;if("crypto"in window)t=crypto;else{if(!("msCrypto"in window))return 0;t=msCrypto}if("getRandomValues"in t&&"Uint32Array"in window&&"function"==typeof Uint32Array||(t=null),null==t)return 0;var a=new Uint32Array(1);do{t.getRandomValues(a)}while(a[0]-a[0]%e>4294967296-e);return a[0]%e},this}),WHMCS.utils.validateBaseUrl(),jQuery(document).ready(function(){jQuery("#main-body").on("click",".product-recommendations .product-recommendation .header",function(e){jQuery(e.target).is(".btn, .btn span, .btn .fa")||(e.preventDefault(),jQuery(".fa-square",this).length>0||(jQuery(this).parent().find(".rotate").toggleClass("down"),jQuery(this).parent().find(".body").slideToggle("fast")))}).on("click",".product-recommendations .product-recommendation .btn-add",function(){jQuery(this).attr("disabled","disabled").find("span.arrow i").removeClass("fa-chevron-right").addClass("fa-spinner fa-spin")}).on("click",".order-button, .order-btn, .btn-order-now",function(e){if(1==jQuery(this).data("hasRecommendations")){e.preventDefault();var t=jQuery(this).attr("href");jQuery("i",this).removeClass().addClass("fas fa-spinner fa-spin"),displayRecommendations(t,"addproductajax=1",!0).done(function(){window.location=t})}}),setRecommendationColors(),
(document.URL.includes("cart.php?a=checkout")||document.URL.includes("cart.php?a=view"))&&jQuery("#recommendationsModal .product-recommendation:not(.clonable)").length>0&&jQuery("#recommendationsModal").modal("toggle")}),"undefined"==typeof localTrans&&(localTrans=function(e,t){return"undefined"!=typeof _localLang&&void 0!==_localLang[e]&&_localLang[e].length>0?_localLang[e]:t});var domainLookupCallCount,furtherSuggestions,hideCvcOnCheckoutForExistingCard=0;jQuery(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();var t=jQuery("#inputCardNumber"),a=jQuery("#inputCardCVV2");t.length&&(t.payment("formatCardNumber"),jQuery("#inputCardCVV").payment("formatCardCVC"),jQuery("#inputCardStart").payment("formatCardExpiry"),jQuery("#inputCardExpiry").payment("formatCardExpiry")),a.length&&a.payment("formatCardCVC"),jQuery(".panel-domain-option input").each(function(){let e=$(this);setTimeout(function(){if(!0===e[0].checked){e.closest(".radio-styled").addClass("checked");var t=e.val();jQuery("#domain"+t).removeClass("hidden")}},50)}),setTimeout(function(){var e=jQuery(".panel-domain-option .radio-styled.checked");if(!e.length){var t=jQuery(".panel-domain-option input:first");jQuery(t).iCheck("check"),jQuery("#domain"+jQuery(".panel-domain-option input:first").val()).removeClass("hidden")}},60),jQuery(".panel-domain-option input").on("ifChecked",function(e){jQuery(".inline-form").addClass("hidden"),jQuery("#domain"+jQuery(this).val()).removeClass("hidden")}),jQuery("#frmProductDomain").submit(function(e){e.preventDefault();var t=jQuery(this).find('button[type="submit"]'),a=(jQuery("#DomainSearchResults"),jQuery("#spotlightTlds")),n=jQuery("#domainSuggestions"),i=jQuery("#btnDomainContinue"),r=jQuery(".panel-domain-option input:checked").val(),o=jQuery("#"+r+"sld"),d=o.val(),s="",l=jQuery("#frmProductDomainPid").val(),u="",c=jQuery("#idnLanguageSelector");if(jQuery(".field-error-msg").hide(),c.hasClass("hidden")||(c.addClass("hidden"),c.find("select").val("")),"incart"==r)o=jQuery("#"+r+"sld option:selected"),d=o.text();else{if(u=jQuery("#"+r+"tld"),s=u.val(),d&&!s)return u.tooltip("show"),u.focus(),!1;"."!=s.substr(0,1)&&(s="."+s)}if(!d)return o.tooltip("show"),o.focus(),!1;if(o.tooltip("hide"),u.length&&u.tooltip("hide"),jQuery('input[name="domainoption"]').iCheck("disable"),domainLookupCallCount=0,t.attr("disabled","disabled").addClass("disabled"),t.find("span").addClass("invisible"),"register"==r){var h=o.attr("data-last-check"),m=u.attr("data-last-check");if(h==o.val()&&m==u.val())return void setTimeout(function(){jQuery('input[name="domainoption"]').iCheck("enable"),t.removeAttr("disabled").removeClass("disabled"),t.find("span").removeClass("invisible")},500)}else $("#registersld").removeAttr("data-last-check"),$("#registertld").removeAttr("data-last-check");if(n.find("li").addClass("hidden").end().find(".clone").remove().end(),jQuery("div.panel-footer.more-suggestions").addClass("hidden").find("a").removeClass("hidden").end().find("span.no-more").addClass("hidden"),jQuery(".btn-add-to-cart").removeAttr("disabled").find("span").hide().end().find("span.to-add").show(),i.addClass("hidden").attr("disabled","disabled"),"register"!=r&&(jQuery("#primaryLookupResult > div").filter(function(){return 0===$(this).closest("#idnLanguageSelector").length}).hide(),a.hide(),jQuery(".suggested-domains").hide()),"register"==r){jQuery("#resultDomainOption").val(r);var p=jQuery.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"domain",domain:d+s,sld:d,tld:s,source:"cartAddDomain"},"json"),f=jQuery.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"spotlight",domain:d+s,sld:d,tld:s,source:"cartAddDomain"},"json"),y=jQuery.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"suggestions",domain:d+s,sld:d,tld:s,source:"cartAddDomain"},"json");p.done(function(e){jQuery.each(e.result,function(t,a){var n=null,r=jQuery("#primaryLookupResult"),o=r.find(".domain-available"),d=r.find(".domain-price"),s=r.find(".domain-unavailable"),l=r.find(".domain-invalid"),u=r.find(".domain-contact-support"),h=jQuery("#resultDomain"),m=jQuery("#resultDomainPricingTerm");if(transferEligible=r.find(".transfer-eligible"),transferNotEligible=r.find(".transfer-not-eligible"),error=r.find(".domain-error"),r.removeClass("hidden").show(),"string"!=typeof a&&!a.error&&a.isValidDomain)if(s.hide(),u.hide(),l.hide(),transferEligible.hide(),transferNotEligible.hide(),error.hide(),n=a.pricing,a.isAvailable&&"string"!=typeof n){a.domainName!==a.idnDomainName&&c.hasClass("hidden")&&c.removeClass("hidden"),a.preferredTLDNotAvailable&&unavailableTld.show().find("strong").html(a.originalUnavailableTld),o.show().find("strong").html(a.domainName),d.show().find(".price").html(n[Object.keys(n)[0]].register).end(),o.find("button").attr("data-domain",a.domainName);var p=$("#primaryLookupResult").attr("data-add-to-cart-on-search"),f=$("#primaryLookupResult").attr("data-product-bundle");if(void 0!==f&&!1!==f||void 0!==p&&!1!==p){h.val(a.domainName),m.val(Object.keys(n)[0]).attr("name","domainsregperiod["+a.domainName+"]");var y=parseInt(jQuery("#cartItemCount").text()),v=y+1;$(".bottom-action-sticky").removeClass("hidden").addClass("is-fixed"),jQuery("#cartItemCount").html(v).addClass("badge-primary")}if(void 0!==p&&!1!==p){var C=jQuery('button[data-domain="'+a.domainName+'"]').not(".btn-remove-domain"),g=jQuery('.btn-remove-domain[data-domain="'+a.domainName+'"]');C.find("span.to-add").hide(),C.find("span.added").show().parent().removeClass("btn-primary-faded").addClass("btn-primary").addClass("checkout").end(),C.each(function(){$(this).data("system-style")&&"futuristic"==$(this).data("system-style")&&$(this).removeClass("btn-outline")}),g.removeClass("hidden")}i.removeAttr("disabled")}else{o.hide(),d.hide(),u.hide(),l.hide(),transferEligible.hide(),transferNotEligible.hide(),error.hide();var b=a.originalUnavailableDomain?a.originalUnavailableDomain:a.domainName;s.show().find("strong").html(b),"string"==typeof n&&"ContactUs"==n&&u.show()}else{var j=l.find("span.domain-length-restrictions"),Q=!1,w=/<br\s*\/>/,k=[];j.hide(),error.hide(),o.hide(),d.hide(),u.hide(),l.hide(),transferEligible.hide(),transferNotEligible.hide(),error.hide(),s.hide();var S=error.find(".message-title");if(a.minLength>0&&a.maxLength>0)j.find(".min-length").html(a.minLength).end().find(".max-length").html(a.maxLength).end(),j.show();else if(e.result.error){if(e.result.error.match(w)){S.text(""),k=e.result.error.split(w);for(var x=0;x<k.length;x++){var M=k[x];M.length&&(S.text()&&S.append("<br />"),S.append(jQuery("<span></span>").text(M)))}}else S.text(e.result.error);error.show(),Q=!0}Q||l.show()}}),o.attr("data-last-check",o.val()),u.attr("data-last-check",u.val())}).always(function(){jQuery("#DomainSearchResults").removeClass("hidden"),1==jQuery("#DomainSearchResults").data("scroll-to-results")&&jQuery("html, body").animate({scrollTop:$("#DomainSearchResults").offset().top-150},500),t.removeAttr("disabled").removeClass("disabled"),t.find("span").removeClass("invisible"),hasProductDomainLookupEnded(3,t)}),f.done(function(e){"object"!=typeof e||0==e.result.length||e.result.error?jQuery(".domain-lookup-spotlight-loader").hide():(a.show(),jQuery.each(e.result,function(e,t){var a=t.tldNoDots,n=t.pricing,i=jQuery("#spotlight"+a+" .domain-lookup-result");jQuery(".domain-lookup-spotlight-loader").hide(),i.find("button").not(".btn-loading").addClass("hidden").removeClass("checkout").end(),i.find(".btn-loading").removeClass("hidden"),t.isValidDomain?t.isAvailable&&"string"!=typeof n?(t.domainName!==t.idnDomainName&&c.hasClass("hidden")&&c.removeClass("hidden"),i.find("span.available").html(n[Object.keys(n)[0]].register).removeClass("hidden").end().find("button.btn-add-to-cart").attr("data-domain",t.domainName).removeClass("hidden"),i.find(".btn-loading").addClass("hidden"),i.find("button.btn-remove-domain").attr("data-domain",t.domainName)):"string"==typeof n?(""==n?i.find("button.unavailable").removeClass("hidden").end():i.find("button.domain-contact-support").removeClass("hidden").end(),i.find("span.available").addClass("hidden").end(),i.find(".btn-loading").addClass("hidden")):(i.find("button.unavailable").removeClass("hidden").end(),i.find("span.available").addClass("hidden").end(),i.closest(".spotlight").addClass("spotlight-disabled"),i.find(".btn-loading").addClass("hidden")):(i.find("button.invalid.hidden").removeClass("hidden").end().find("span.available").addClass("hidden").end().find("button").not("button.invalid").addClass("hidden"),i.find(".btn-loading").addClass("hidden"))}))}).always(function(){hasProductDomainLookupEnded(3,t);var e=$("#primaryLookupResult").attr("data-add-to-cart-on-search");if(void 0!==e&&!1!==e){var a=jQuery("#primaryLookupResult .domain-available .btn-add-to-cart").data("domain");addButton=jQuery('#spotlightTlds button[data-domain="'+a+'"]').not(".btn-remove-domain"),removeButton=jQuery('#spotlightTlds .btn-remove-domain[data-domain="'+a+'"]'),addButton.find("span.to-add").hide(),addButton.find("span.added").show().parent().removeClass("btn-primary-faded").addClass("btn-primary").addClass("checkout").end(),addButton.each(function(){$(this).data("system-style")&&"futuristic"==$(this).data("system-style")&&$(this).removeClass("btn-outline")}),removeButton.removeClass("hidden")}}),y.done(function(e){if("object"!=typeof e||0==e.result.length||e.result.error)jQuery(".suggested-domains").fadeOut("fast",function(){jQuery(this).addClass("hidden")});else{jQuery(".suggested-domains").removeClass("hidden").show();var t=1;jQuery.each(e.result,function(e,a){var i=a.tld,r=a.pricing;n.find("li:first").clone(!0,!0).appendTo(n);var o=n.find("li.domain-suggestion").last();o.addClass("clone").find("span.domain").html(a.sld).end().find("span.extension").html("."+i).end(),a.domainName!==a.idnDomainName&&c.hasClass("hidden")&&c.removeClass("hidden"),"string"==typeof r?(o.find("button.btn-add-to-cart").remove(),""!=r?o.find("button.domain-contact-support").removeClass("hidden").end().find("span.price").hide():o.remove()):(o.find("button.btn-add-to-cart").attr("data-domain",a.domainName).end().find("span.price").html(r[Object.keys(r)[0]].register).end(),o.find("button.btn-remove-domain").attr("data-domain",a.domainName),o.find("button.btn-remove-domain").tooltip("enable")),t<=10&&o.removeClass("hidden"),t++,a.group&&(o.find("span.promo").addClass(a.group).removeClass("hidden").end(),o.find("span.sales-group-"+a.group).removeClass("hidden").end()),furtherSuggestions=n.find("li.domain-suggestion.clone.hidden").length,furtherSuggestions>0&&jQuery("div.more-suggestions").removeClass("hidden")}),jQuery(".domain-lookup-suggestions-loader").hide(),jQuery("#domainSuggestions").removeClass("hidden")}}).always(function(){hasProductDomainLookupEnded(3,t)})}else if("transfer"==r){jQuery("#resultDomainOption").val(r);var v=jQuery.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:"transfer",domain:d+s,sld:d,tld:s,source:"cartAddDomain"},"json");v.done(function(e){if("object"==typeof e&&0!=e.result.length){var t=jQuery("#primaryLookupResult"),a=t.find(".transfer-eligible"),n=t.find(".domain-price"),r=t.find(".transfer-not-eligible"),o=jQuery("#resultDomain"),d=jQuery("#resultDomainPricingTerm"),s=a.find(".transfer-eligible-desc"),l=a.find(".transfer-eligible-desc-uk"),u=a.find(".domain-price-text");0===Object.keys(e.result).length&&(jQuery(".domain-lookup-loader").addClass("hidden"),t.removeClass("hidden").show(),r.show()),jQuery.each(e.result,function(e,c){var h=c.pricing;jQuery(".domain-lookup-loader").addClass("hidden"),t.removeClass("hidden").show(),c.isRegistered?(a.show(),n.show().find(".register-price-label").hide().end().find(".transfer-price-label").removeClass("hidden").show().end().find(".price").html(h[Object.keys(h)[0]].transfer).end().find("button").attr("data-domain",c.domainName),c.tld.includes("uk")?(s.addClass("hidden"),l.removeClass("hidden"),u.addClass("hidden")):(s.removeClass("hidden"),l.addClass("hidden"),u.removeClass("hidden")),o.val(c.domainName),d.val(Object.keys(h)[0]).attr("name","domainsregperiod["+c.domainName+"]"),i.removeAttr("disabled")):r.show()})}else jQuery(".domain-lookup-loader").addClass("hidden")}).always(function(){hasProductDomainLookupEnded(1,t),jQuery(".domain-lookup-loader").addClass("hidden"),jQuery("#DomainSearchResults").removeClass("hidden")})}else if("owndomain"==r||"subdomain"==r||"incart"==r){var C=WHMCS.http.jqClient.post(WHMCS.utils.getRouteUrl("/domain/check"),{token:csrfToken,type:r,pid:l,domain:d+s,sld:d,tld:s,source:"cartAddDomain"},"json");C.done(function(e){"object"==typeof e&&0!=e.result.length?jQuery.each(e.result,function(e,t){!0===t.status?displayRecommendations(whmcsBaseUrl+"/cart.php","addproductajax=1&a=confproduct&i="+t.num,!1).done(function(){window.location=whmcsBaseUrl+"/cart.php?a=confproduct&i="+t.num}):(jQuery(".domain-lookup-loader").addClass("hidden"),"string"==typeof t?jQuery("#primaryLookupResult").removeClass("hidden").show().find(".domain-error .message-title").text(t).closest(".domain-error").show():jQuery("#primaryLookupResult").removeClass("hidden").show().find(".domain-invalid").show())}):jQuery(".domain-lookup-subdomain-loader").hide()}).always(function(){hasProductDomainLookupEnded(1,t),jQuery(".domain-lookup-loader").addClass("hidden"),jQuery("#DomainSearchResults").removeClass("hidden")})}i.removeClass("hidden")}),jQuery(".btn-add-to-cart").on("click",function(e){if(jQuery(this).hasClass("checkout"))return jQuery(this).data("product-domain")?void $("#frmProductDomainSelections").submit():void(window.location="cart.php?a=confdomains");e.preventDefault();var t=jQuery(this).attr("data-domain"),a=jQuery('button[data-domain="'+t+'"]').not(".btn-remove-domain"),n=jQuery('.btn-remove-domain[data-domain="'+t+'"]'),i=jQuery(this).attr("data-whois"),r=jQuery(this).hasClass("product-domain"),o=jQuery("#btnDomainContinue"),d=jQuery("#resultDomain"),s=jQuery("#resultDomainPricingTerm"),l=jQuery("#idnLanguageSelector"),u=l.find("select");if(l.hasClass("hidden")||u.val()){a.attr("disabled","disabled");var c=jQuery(this).parents(".spotlight-tlds").length>0||jQuery(this).parents(".suggested-domains").length>0?1:0;if(window.location.pathname.indexOf("cart.php")<0)var h=whmcsBaseUrl+"/cart.php";else h=window.location.pathname;jQuery.post(h,{a:"addToCart",domain:t,token:csrfToken,whois:i,sideorder:c,idnlanguage:u.val()},"json").done(function(e){if(a.find("span.to-add").hide(),"added"===e.result){a.find("span.added").show().parent().removeClass("btn-primary-faded").addClass("btn-primary").end(),a.each(function(){$(this).data("system-style")&&"futuristic"==$(this).data("system-style")&&$(this).removeClass("btn-outline")}),n.removeClass("hidden"),$(".bottom-action-sticky").removeClass("hidden").addClass("is-fixed"),r||a.removeAttr("disabled").addClass("checkout").closest(".list-group-item").addClass("added"),d.length&&!d.val()&&(d.val(t),s.val(e.period).attr("name","domainsregperiod["+t+"]"),o.length>0&&o.is(":disabled")&&o.removeAttr("disabled"));var i=parseInt(jQuery("#cartItemCount").text()),l=i+1;jQuery("#cartItemCount").html(l).addClass("badge-primary")}else a.find("span.available.price").hide(),a.find("span.unavailable").show(),a.attr("disabled","disabled")})}else u.showInputError()}),$("#frmProductDomainSelections").on("submit",function(e){var t=jQuery("#idnLanguageSelector"),a=t.find("select"),n=jQuery(this);if(!t.hasClass("hidden")&&!a.val())return e.preventDefault(),a.showInputError(),$("#btnDomainContinue span.invisible").removeClass("invisible"),!1;e.preventDefault(),displayRecommendations(n.attr("action"),"addproductajax=1&"+n.serialize(),!1).done(function(){n.unbind().submit(),n.submit()})}),jQuery("#idnLanguageSelector").find("select").on("change",function(){var e=jQuery("#idnLanguageSelector"),t=e.find("select");!e.hasClass("hidden")&&t.val()&&t.closest(".form-group").removeClass("has-error").find(".field-error-msg").hide()}),$(".btn-remove-domain").on("click",function(e){let t=$(this),a=t.data("system-template"),n=t.siblings(".btn-add-to-cart");$.ajax({type:"POST",data:{domainId:""},url:whmcsBaseUrl+"/templates/"+a+"/core/api/getcartsession.php",success:function(e){e=JSON.parse(e);var a=e.session.domains,i=!1,r=t[0].dataset.domain;t.find("i").addClass("invisible"),t.find(".loader").removeClass("hidden"),n.addClass("disabled"),a.map((e,a)=>{t[0].dataset.domain==e.domain&&(i=a)}),(i||0===i)&&r&&$.ajax({type:"POST",url:"cart.php?a=remove&r=d&i="+i,success:function(e){var a=jQuery('button[data-domain="'+r+'"]').not(".btn-remove-domain"),n=jQuery('.btn-remove-domain[data-domain="'+r+'"]'),i=jQuery("#resultDomain"),o=jQuery("#resultDomainPricingTerm");a.removeClass("btn-primary checkout disabled").addClass("btn-primary-faded"),a.each(function(){$(this).data("system-style")&&"futuristic"==$(this).data("system-style")&&$(this).removeClass("btn-primary-faded").addClass("btn-outline")}),a.find("span.to-add").show(),a.find("span.added").hide(),t.find(".invisible").removeClass("invisible"),t.find(".loader").addClass("hidden"),n.addClass("hidden");let d=$("#cartItemCount"),s=[...document.querySelectorAll("#DomainSearchResults .btn-primary.checkout.btn-add-to-cart")].length;0==s&&$(".bottom-action-sticky").addClass("hidden"),d.text(s),i.length&&i.val()==r&&(i.val(""),o.val(""),o.attr("name",""))},error:function(e){console.log(e)}})},error:function(e){console.log(e)}})}),jQuery("#frmDomainChecker").submit(function(e){if(e.preventDefault(),void 0===recaptchaValidationComplete||void 0===recaptchaType||"invisible"!==recaptchaType||!1!==recaptchaValidationComplete){var t=jQuery("#frmDomainChecker"),a=jQuery("#inputDomain"),n=jQuery("#domainSuggestions"),i=jQuery("#divDynamicRecaptcha"),r=jQuery("#inputCaptcha"),o=jQuery("#idnLanguageSelector");if(domainLookupCallCount=0,jQuery(".field-error-msg").hide(),o.hasClass("hidden")||(o.addClass("hidden"),o.find("select").val("")),!a.val())return a.tooltip("show"),void a.focus();if(a.tooltip("hide"),jQuery("#captchaContainer").length)validate_captcha(t);else{i.tooltip("hide"),jQuery(".domain-search-captcha").hide(),r.tooltip("hide"),jQuery("#btnCheckAvailability").attr("disabled","disabled").addClass("disabled"),jQuery("#btnCheckAvailability > span").addClass("invisible");var d=a.attr("data-last-check");if(d!=a.val()){jQuery(".spotlight-loader").removeClass("hidden"),n.find("li").addClass("hidden").end(),n.find(".clone").remove().end(),jQuery("div.panel-footer.more-suggestions").addClass("hidden").find("a").removeClass("hidden").end().find("span.no-more").addClass("hidden"),jQuery(".btn-add-to-cart").removeAttr("disabled").find("span").hide().end().find("span.to-add").show(),jQuery(".suggested-domains").removeClass("hidden");var s=jQuery.post(WHMCS.utils.getRouteUrl("/domain/check"),t.serialize()+"&type=domain","json"),l=jQuery.post(WHMCS.utils.getRouteUrl("/domain/check"),t.serialize()+"&type=spotlight","json"),u=jQuery.post(WHMCS.utils.getRouteUrl("/domain/check"),t.serialize()+"&type=suggestions","json");s.done(function(e){"object"==typeof e&&0!=e.result.length&&(jQuery.each(e.result,function(t,a){var n=null,i=jQuery("#primaryLookupResult"),r=i.find(".domain-available"),d=i.find(".domain-price"),s=i.find(".domain-contact-support"),l=i.find(".domain-unavailable"),u=i.find(".domain-tld-unavailable"),c=i.find(".domain-invalid"),h=i.find(".domain-error");if(i.find(".btn-add-to-cart").removeClass("checkout"),i.removeClass("hidden").show(),!e.result.error&&a.isValidDomain)n=a.pricing,l.hide(),s.hide(),u.hide(),c.hide(),h.hide(),a.isAvailable&&"string"!=typeof n?(a.domainName!==a.idnDomainName&&o.hasClass("hidden")&&o.removeClass("hidden"),a.preferredTLDNotAvailable&&u.show().find("strong").html(a.originalUnavailableTld),r.show().find("strong").html(a.domainName),d.show().find(".price").html(n[Object.keys(n)[0]].register).end(),r.find("button").attr("data-domain",a.domainName)):(r.hide(),d.hide(),s.hide(),a.preferredTLDNotAvailable?u.show().find("strong").html(a.originalUnavailableTld):l.show().find("strong").html(a.domainName),"string"==typeof n&&"ContactUs"==n&&s.show());else{r.hide(),d.hide(),l.hide(),u.hide(),s.hide(),c.hide(),h.hide();var m=!1,p=/<br\s*\/>/,f=[];if(!a.isValidDomain&&a.domainErrorMessage)c.find(".message-title").text(a.domainErrorMessage);else if(a.error||"error"===t){if("string"==typeof a)h.find(".message-title").text(a);else if(a.error.match(p)){h.find(".message-title").text(""),f=a.error.split(p);for(var y=0;y<f.length;y++){var v=f[y];v.length&&(h.find(".message-title").text()&&h.find(".message-title").append("<br />"),h.find(".message-title").append(jQuery("<span></span>").text(v)))}}else h.find(".message-title").text(a.error);h.show(),m=!0}m||c.show()}}),a.attr("data-last-check",a.val()))}).always(function(){jQuery("#DomainSearchResults").removeClass("hidden"),jQuery("#DomainSearchResults").data("scroll-to-results")&&jQuery("html, body").animate({scrollTop:$("#DomainSearchResults").offset().top-150},500),jQuery(".domain-pricing").hide(),jQuery("#btnCheckAvailability").removeAttr("disabled").removeClass("disabled"),jQuery("#btnCheckAvailability > span").removeClass("invisible"),hasDomainLookupEnded()}),l.done(function(e){"object"!=typeof e||0==e.result.length||e.result.error?jQuery(".spotlight-loader").addClass("hidden"):jQuery.each(e.result,function(e,t){var a=t.tldNoDots,n=t.pricing,i=jQuery("#spotlight"+a+" .domain-lookup-result");jQuery(".spotlight-loader").removeClass("hidden"),i.find("button").not(".btn-loading").addClass("hidden").end(),i.find(".btn-loading").removeClass("hidden"),t.isValidDomain?t.isAvailable&&"string"!=typeof n?(t.domainName!==t.idnDomainName&&o.hasClass("hidden")&&o.removeClass("hidden"),null!=n[Object.keys(n)[0]]?(i.find("button.unavailable").addClass("hidden").end().find("button.invalid").addClass("hidden").end().find("span.available").html(n[Object.keys(n)[0]].register).removeClass("hidden").end().find("button").not("button.unavailable").not("button.invalid").not("button.btn-remove-domain").attr("data-domain",t.domainName).removeClass("hidden"),i.find(".btn-loading").addClass("hidden"),i.find("button.btn-remove-domain").attr("data-domain",t.domainName)):(i.find("button.invalid").addClass("hidden").end().find("button.unavailable").removeClass("hidden").end().find("span.available").addClass("hidden").end().find("span.unavailable").removeClass("hidden").end(),i.closest(".spotlight").addClass("unavailable"),i.find(".btn-loading").addClass("hidden"))):"string"==typeof n?(""==n?i.find("button.unavailable").removeClass("hidden").end():i.find("button.domain-contact-support").removeClass("hidden").end(),i.find("button.invalid").addClass("hidden").end(),i.find("span.available").addClass("hidden").end(),i.find("span.unavailable").removeClass("hidden").end(),i.find(".btn-loading").addClass("hidden")):(i.find("button.invalid").addClass("hidden").end().find("button.unavailable").removeClass("hidden").end().find("span.available").addClass("hidden").end().find("span.unavailable").removeClass("hidden").end(),i.closest(".spotlight").addClass("unavailable"),i.find(".btn-loading").addClass("hidden")):(i.find("button.invalid.hidden").removeClass("hidden").end().find("span.available").addClass("hidden").end().find("span.unavailable").removeClass("hidden").end().find("button").not("button.invalid").addClass("hidden").end(),i.closest(".spotlight").addClass("unavailable"),i.find(".btn-loading").addClass("hidden")),i.removeClass("hidden"),jQuery(".spotlight-loader").addClass("hidden")})}).always(function(){hasDomainLookupEnded()}),u.done(function(e){if("object"!=typeof e||0==e.result.length||e.result.error)jQuery(".suggested-domains").fadeOut("fast",function(){jQuery(this).addClass("hidden")});else{jQuery(".suggested-domains").removeClass("hidden");var t=1;jQuery.each(e.result,function(e,a){var i=a.tld,r=a.pricing;n.find("li:first").clone(!0,!0).appendTo(n);var d=n.find("li.domain-suggestion").last();d.addClass("clone").find("span.domain").html(a.sld).end().find("span.extension").html("."+i).end(),"string"==typeof r?(d.find("button.btn-add-to-cart").remove(),""!=r?d.find("button.domain-contact-support").removeClass("hidden").end().find("span.price").hide():d.remove()):(a.domainName!==a.idnDomainName&&o.hasClass("hidden")&&o.removeClass("hidden"),null!=r[Object.keys(r)[0]]?(d.find("button.btn-add-to-cart").attr("data-domain",a.domainName).end().find("span.price").html(r[Object.keys(r)[0]].register).end(),d.find("button.btn-remove-domain").attr("data-domain",a.domainName),d.find("button.btn-remove-domain").tooltip("enable")):d.find("button.domain-contact-support").removeClass("hidden").end().find("span.price").hide()),t<=10&&d.removeClass("hidden"),t++,a.group&&(d.find("span.promo").addClass(a.group).removeClass("hidden").end(),d.find("span.sales-group-"+a.group).removeClass("hidden").end()),furtherSuggestions=n.find("li.domain-suggestion.clone.hidden").length,furtherSuggestions>0&&jQuery("div.more-suggestions").removeClass("hidden")}),jQuery(".domain-lookup-suggestions-loader").hide(),jQuery("#domainSuggestions").removeClass("hidden")}}).always(function(){hasDomainLookupEnded()})}else setTimeout(function(){jQuery("#btnCheckAvailability").removeAttr("disabled").removeClass("disabled"),jQuery("#btnCheckAvailability > span").removeClass("invisible")},500)}}}),jQuery("#frmDomainTransfer").submit(function(e){if(e.preventDefault(),void 0===recaptchaValidationComplete||void 0===recaptchaType||"invisible"!==recaptchaType||!1!==recaptchaValidationComplete){var t=jQuery("#frmDomainTransfer"),a=jQuery("#btnTransferDomain"),n=jQuery("#inputTransferDomain"),i=jQuery("#inputAuthCode"),r=n.val(),o=i.val(),d=jQuery("#modal-epp-code");if(redirect=!1,reCaptchaContainer=jQuery("#divDynamicRecaptcha"),captcha=jQuery("#inputCaptcha"),!r)return n.tooltip("show"),n.focus(),!1;n.tooltip("hide"),jQuery("#captchaContainer").length?validate_captcha(t):(reCaptchaContainer.tooltip("hide"),captcha.tooltip("hide"),a.attr("disabled","disabled").addClass("disabled").find("span:not(.loader)").addClass("invisible"),jQuery.post(t.attr("action"),t.serialize(),"json").done(function(e){if("object"!=typeof e)return a.removeAttr("disabled").removeClass("disabled").find("#addToCart").removeClass("invisible"),!1;var t=e.result;"added"==t?(window.location=whmcsBaseUrl+"/cart.php?a=confdomains",redirect=!0):1==t.isRegistered?1!=t.epp||o||(d.hasClass("show")?(i.tooltip("show"),i.focus(),d.find(".invisible").removeClass("invisible")):d.modal("show")):(d.modal("hide"),d.find(".invisible").removeClass("invisible"),jQuery("#transferUnavailable").html(t.unavailable).hide().removeClass("hidden").fadeIn("fast",function(){setTimeout(function(e){e.fadeOut("fast")},1e4,jQuery(this))}))}).always(function(){0==redirect&&a.removeAttr("disabled").removeClass("disabled").find("#addToCart").removeClass("invisible")}))}}),$("[data-epp-submit]").on("click",function(){var e=$("#inputAuthCode").val();$('input[name="epp"]').val(e),$("#frmDomainTransfer").submit()}),$("#frmConfigureProduct").on("change","select",function(){recalctotals()}),jQuery("#frmConfigureProduct .section").not("#sectionCycles").on("ifChecked","input",function(){recalctotals()}),jQuery("#frmConfigureProduct .section").not("#sectionCycles").on("ifUnchecked",'input[type="checkbox"]',function(){recalctotals()}),$("[data-change-billingcycle]").on("ifChecked","input",function(){setTimeout(function(){recalctotals()},150)}),$("[data-update-config]").on("ifChecked","input",function(){$("#productConfigurableOptions").addClass("hidden"),$("#lagomPageLoader").removeClass("hidden"),$("#productAddonsContainer").addClass("hidden"),jQuery("#orderSummaryLoader").is(":visible")||jQuery("#orderSummaryLoader").fadeIn("fast"),jQuery("#orderSummaryLoaderMob").is(":visible")||jQuery("#orderSummaryLoaderMob").fadeIn("fast");var e=$(this).closest("label").data("config-i"),t=$(this).closest("label").data("config-val");WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php","a=cyclechange&ajax=1&i="+e+"&billingcycle="+t,function(e){var t=jQuery("#productConfigurableOptions"),a=jQuery("#productAddonsContainer");t.length&&t.html(jQuery(e).find("#productConfigurableOptions").html()),a.length&&a.html(jQuery(e).find("#productAddonsContainer").html()),setTimeout(function(){var e=$("#productConfigurableOptions, #productAddonsContainer").find("input:not(.icheck-input):not(.switch__checkbox)");e.iCheck({checkboxClass:"checkbox-styled",radioClass:"radio-styled",increaseArea:"40%"}),reloadConfigOptions("#productConfigurableOptions"),"undefined"!=typeof reloadCustomConfigOptions&&$.isFunction(reloadCustomConfigOptions)&&reloadCustomConfigOptions("#productConfigurableOptions")},100),$("#productConfigurableOptions").removeClass("hidden"),$("#lagomPageLoader").addClass("hidden"),$("#productAddonsContainer").removeClass("hidden"),changeLogos()}),setTimeout(function(){recalctotals()},150)}),jQuery("#frmConfigureProduct").submit(function(e){e.preventDefault();var t=jQuery("#btnCompleteProductConfig, #btnCompleteProductConfigMob"),a=jQuery(t).html(),n=whmcsBaseUrl+"/cart.php",i="a=confproduct&"+jQuery("#frmConfigureProduct").serialize();jQuery(t).find(".loader").removeClass("hidden"),jQuery(t).find("span").addClass("invisible"),displayRecommendations(n,"addproductajax=1&"+i,!1).done(function(){WHMCS.http.jqClient.post(n,"ajax=1&"+i,function(e){e?(jQuery("#btnCompleteProductConfig").html(a),jQuery("#btnCompleteProductConfigMob").html(a),jQuery("#containerProductValidationErrorsList").html(e),jQuery("#containerProductValidationErrors").removeClass("hidden").show(),jQuery(t).find(".loader").addClass("hidden"),jQuery(t).find("span").removeClass("invisible"),jQuery(t).prop("disabled",!1).removeClass("disabled"),jQuery(window).scrollTop()>jQuery("#containerProductValidationErrors").offset().top&&jQuery("html, body").scrollTop(jQuery("#containerProductValidationErrors").offset().top-150)):window.location=whmcsBaseUrl+"/cart.php?a=confdomains"})})}),jQuery("#serviceRenewals").find("span.added").hide().end().find("span.to-add").find("i").hide(),jQuery(".btn-add-renewal-to-cart").on("click",function(){var t,a,n=jQuery(this),i=(n.outerWidth(),n.data("domain-id"));jQuery("#renewalPricing"+i).val();if(jQuery("#serviceRenewals").length>=1)t=WHMCS.utils.getRouteUrl("/cart/service/"+n.data("service-id")+"/product/renew"),a={token:csrfToken};else{i=n.data("domain-id");t=WHMCS.utils.getRouteUrl("/cart/domain/renew/add"),a={domainId:i,period:jQuery("#renewalPricing"+i).val(),token:csrfToken}}n.hasClass("checkout")?window.location=whmcsBaseUrl+"/cart.php?a=view":$(this).closest(".panel").hasClass("domain-renewal-added")?e.preventDefault():jQuery.post(t,a,"json").done(function(e){n.find("span.to-add").hide(),n.find(".loader").css("display","flex").show(),"added"===e.result&&setTimeout(function(){n.find(".loader").hide().end().find("span.added").css("display","flex"),n.closest(".panel").addClass("border-primary domain-renewal-added"),n.removeClass("btn-primary-faded").addClass("btn-primary")},500),recalculateRenewalTotals()})}),jQuery(document).on("submit","#removeRenewalForm",function(e){e.preventDefault();var t="#renewDomain";jQuery("#serviceRenewals").length>=1&&(t="#renewService"),jQuery.post(whmcsBaseUrl+"/cart.php",jQuery(this).serialize()+"&ajax=1").done(function(e){var a=e.i,n=jQuery(t+a);n.attr("disabled","disabled").each(function(){jQuery(this).find("span.added").hide().end().removeClass("checkout").find("span.to-add").show().end().removeAttr("disabled"),jQuery(this).css("width",""),jQuery(this).closest(".panel").removeClass("border-primary domain-renewal-added"),jQuery(this).removeClass("btn-primary").addClass("btn-primary-faded")})}).always(function(){jQuery("#modalRemoveItem").modal("hide"),recalculateRenewalTotals()})}),jQuery(".select-renewal-pricing").on("change",function(){var e=$(this).data("domain-id"),t=$(this).val()
;$(this).closest(".panel").hasClass("domain-renewal-added")&&jQuery.post(WHMCS.utils.getRouteUrl("/cart/domain/renew/add"),{domainId:e,period:t,token:csrfToken},"json").done(function(e){recalculateRenewalTotals()})}),jQuery("#domainRenewalFilter").on("keyup",function(){var e=jQuery(this).val().toLowerCase();jQuery("#domainRenewals, #serviceRenewals").find("div.search-renewal").filter(function(){jQuery(this).toggle(jQuery(this).data("search-name").toLowerCase().indexOf(e)>-1)}).promise().done(function(){0==jQuery("div.search-renewal :visible").size()?jQuery(".no-renew").removeClass("hidden"):jQuery(".no-renew").addClass("hidden")})}),jQuery("#btnEmptyCart").click(function(){jQuery("#modalEmptyCart").modal("show")});var n=jQuery("#useCreditOnCheckout"),i=jQuery("#skipCreditOnCheckout");n.on("ifChecked",function(){var e=jQuery("#useCreditOnCheckout"),t=jQuery('input[name="paymentmethod"]:checked'),a=jQuery('input[name="ccinfo"]:checked'),n=t.hasClass("is-credit-card"),i=jQuery('input[name="paymentmethod"]').not(jQuery('input.is-credit-card[name="paymentmethod"]')).first();container=jQuery("#paymentGatewaysContainer"),u=jQuery("#existingCardInfo"),ccInputFields=jQuery("#creditCardInputFields"),spanFullCredit=jQuery("#spanFullCredit"),shouldHideContainer=!0,e.prop("checked")&&(spanFullCredit.hasClass("hidden")&&(shouldHideContainer=!1),n&&0!==i.length?(i.closest(".panel-group").find(".panel.checked").removeClass("checked"),i.iCheck("check").closest(".panel").addClass("checked"),ccInputFields.addClass("hidden"),shouldHideContainer&&container.addClass("hidden")):!n&&container.is(":visible")?shouldHideContainer&&container.addClass("hidden"):shouldHideContainer&&!n||container.is(":visible")||(ccInputFields.removeClass("hidden"),container.removeClass("hidden")),n&&"new"!==a.val()&&(spanFullCredit.is(":visible")?(hideCvcOnCheckoutForExistingCard="1",u.hide().find("input").attr("disabled","disabled")):u.show().find("input").removeAttr("disabled")))}),i.on("ifChecked",function(){var e=jQuery('input[name="paymentmethod"]:checked'),t=(e.hasClass("is-credit-card"),jQuery("#paymentGatewaysContainer"));t.is(":visible")||t.removeClass("hidden")});var r=jQuery("#applyCreditContainer");r.is(":visible")&&1===r.data("apply-credit")&&n.length&&(i.iCheck("check"),n.iCheck("check")),jQuery("#btnAlreadyRegistered").click(function(){jQuery("#containerNewUserSignup").slideUp("",function(){jQuery("#containerExistingUserSignin").slideDown("",function(){jQuery("#inputCustType").val("existing"),jQuery("#btnAlreadyRegistered").fadeOut("",function(){jQuery("#btnNewUserSignup").fadeIn()})})}),jQuery("#containerNewUserSecurity").hide(),jQuery("#stateselect").attr("required")&&jQuery("#stateselect").removeAttr("required").addClass("requiredAttributeRemoved"),jQuery(".marketing-email-optin").slideUp()}),jQuery("#btnNewUserSignup").click(function(){jQuery("#containerExistingUserSignin").slideUp("",function(){jQuery("#containerNewUserSignup").slideDown("",function(){jQuery("#inputCustType").val("new"),0==jQuery("#passwdFeedback").html().length&&jQuery("#containerNewUserSecurity").show(),jQuery("#btnNewUserSignup").fadeOut("",function(){jQuery("#btnAlreadyRegistered").fadeIn()})}),jQuery(".marketing-email-optin").slideDown()}),jQuery("#stateselect").hasClass("requiredAttributeRemoved")&&jQuery("#stateselect").attr("required","required").removeClass("requiredAttributeRemoved")}),jQuery("#btnExistingLogin").click(function(){var e=jQuery("#inputLoginEmail").val(),t=jQuery("#inputLoginPassword").val(),a=jQuery("#existingLoginMessage"),n=jQuery("#btnExistingLogin");n.prop("disabled",!0).addClass("disabled").find("span").addClass("invisible"),WHMCS.http.jqClient.jsonPost({url:WHMCS.utils.getRouteUrl("/login/cart"),data:{username:e,password:t,token:csrfToken},success:function(e){e.redirectUrl?window.location.href=e.redirectUrl:location.reload(!0)},error:function(e){e&&(a.slideUp("fast").toggle().html(e).slideDown("fast"),n.prop("disabled",!1).removeClass("disabled").find("span").removeClass("invisible"))}})}),jQuery(".account-select").on("ifChecked",function(e){var t=jQuery("#containerNewUserSignup"),a=jQuery("#stateselect"),n=jQuery(this).val(),i=jQuery("#btnCompleteOrder"),r=jQuery("#existingCardsContainer"),o=jQuery("#inputEmail"),d=jQuery("#existingCardsContainer").data("template");if(r.length&&r.html(""),o.length&&o.attr("value",""),"new"===n)t.not(":visible")&&(jQuery("#inputCustType").val("add"),jQuery(".marketing-email-optin").slideDown(),a.hasClass("requiredAttributeRemoved")&&a.attr("required","required").removeClass("requiredAttributeRemoved"));else{if(i.addClass("disabled"),i.hasClass("spinner-on-click")){var s=i.find("i.fas,i.far,i.fal,i.fab");jQuery(s).data("original-class",s.attr("class")).removeAttr("class").addClass("fas fa-spinner fa-spin")}jQuery("#inputCustType").val("account"),t.is(":visible")&&(t.slideUp(),a.attr("required")&&a.removeAttr("required").addClass("requiredAttributeRemoved"),jQuery(".marketing-email-optin").slideUp())}WHMCS.http.jqClient.jsonPost({url:WHMCS.utils.getRouteUrl("/cart/account/select"),data:{account_id:n,token:csrfToken},success:function(e){var t=jQuery("#applyCreditContainer");if(jQuery("#totalDueToday").text(e.total),t.closest(".panel").find(".credit-balance > span").text(e.creditBalance),!e.canUseCreditOnCheckout&&t.is(":visible")){var a=jQuery("#skipCreditOnCheckout");t.closest(".panel").addClass("hidden"),a.iCheck("check")}else if(e.canUseCreditOnCheckout){var n=jQuery("#useCreditOnCheckout"),i=jQuery("#spanFullCredit"),o=jQuery("#spanUseCredit");e.full?(hideCvcOnCheckoutForExistingCard="1",i.removeClass("hidden").find("span").text(e.total),o.hasClass("hidden")||o.addClass("hidden")):(hideCvcOnCheckoutForExistingCard="0",o.removeClass("hidden").find("span").text(e.creditBalance),i.hasClass("hidden")||i.addClass("hidden")),n.iCheck("check"),t.not(":visible")&&t.closest(".panel").removeClass("hidden")}if(r.length){r.html(e.existingCards),""==e.existingCards?$(".cc-input-container .nav-tabs").hide():$(".cc-input-container .nav-tabs").show();let t=r.find(".cc-item-icon img");t.each(function(){$(this).prop("src",$(this).attr("src").replace("//","/"+d+"/"))}),r.find('input[type="radio"]').iCheck({inheritID:!0,checkboxClass:"checkbox-styled",radioClass:"radio-styled",increaseArea:"40%"}),jQuery(".payment-methods:checked").trigger("ifChecked"),selectPreferredCard()}},always:function(){if(i.removeClass("disabled"),i.hasClass("spinner-on-click")){var e=i.find("i.fas,i.far,i.fal,i.fab");jQuery(e).hasClass("fa-spinner")&&jQuery(e).removeAttr("class").addClass(e.data("original-class"))}}})});jQuery("#cvv-field-container");var o=jQuery("#existingCardsContainer"),d=jQuery("#newCardInfo"),s=jQuery("#newCardSaveSettings"),l=jQuery("#inputNoStoreContainer"),u=jQuery("#existingCardInfo"),c=jQuery("#new"),h=jQuery("#creditCardInputFields");jQuery("[data-paymethod-id]").on("click",function(){jQuery(this).hasClass("disabled")||(jQuery("[data-paymethod-id]").removeClass("active"),jQuery(this).addClass("active"),jQuery(this).find("input[type=radio]").iCheck("check"))}),jQuery("#creditCardInputFields [data-radio-tab]").on("click",function(e){e.preventDefault(),jQuery(this).closest("#paymentGatewaysContainer").find("#newCardInfoTab").attr("style",!1),jQuery(this).closest("#paymentGatewaysContainer").find("#existingCardsContainer").attr("style",!1);var t=jQuery(this).attr("href");jQuery(this).closest(".nav-tabs").find(".active").removeClass("active"),jQuery(this).parent().addClass("active"),jQuery(this).closest(".cc-input-container").find(".tab-content").find(".active").removeClass("active"),jQuery(this).closest(".cc-input-container").find(".tab-content").find(t).addClass("active");var a=jQuery(this).find("input[type=radio]"),n=jQuery(this);setTimeout(function(){if(a.is(":checked")){if("stripe"===jQuery(".payment-methods:checked").val())return;n.closest(".cc-input-container").find(".tab-content").find("#newCardInfo").show()}},500)}),jQuery(document).on("ifChecked",".existing-card",function(e){s.hide().find("input").attr("disabled","disabled"),1!==jQuery(".payment-methods:checked").data("remote-inputs")&&(d.find("input").attr("disabled","disabled"),"1"!==hideCvcOnCheckoutForExistingCard?u.find("input").removeAttr("disabled"):u.find("input").attr("disabled","disabled"))}),c.on("ifChecked",function(e){"stripe"!==jQuery(".payment-methods:checked").val()&&(d.show().find("input").removeAttr("disabled"),u.find("input").attr("disabled","disabled"))});jQuery(".payment-methods").on("ifChecked",function(e){var t=jQuery(document).find(".existing-card");if(t.length||u.find("input").attr("disabled","disabled"),reloadConfigOptions("#paymentGatewaysDetails"),jQuery(this).hasClass("is-credit-card")){var a=jQuery(this).data("payment-type"),n=jQuery(this).val(),i=jQuery(this).data("show-local"),r=[];"RemoteCreditCard"===a?l.hide().find("input").prop("disabled","disabled"):l.is(":visible")||l.show().find("input").removeProp("disabled"),t.each(function(e){var t=jQuery(this).data("payment-type"),o=jQuery(this).data("payment-gateway"),d=jQuery(this).val(),s=t===a,l=!1;"RemoteCreditCard"===a?l=o===n:"CreditCard"===a&&(l=!0),i&&"CreditCard"===t&&(s=!0,l=!0);var u=jQuery('[data-paymethod-id="'+d+'"]');s&&l?(jQuery(u).show(),r.push(this)):jQuery(u).hide()});var s=jQuery("#creditCardInputFields .cc-input-container > .nav-tabs");r.length?s.show():s.hide();var m=r.filter(function(e){return!jQuery(e).attr("disabled")});if(m.length>0){var p=null;jQuery.each(m,function(e,t){var a=jQuery(t),n=parseInt(a.data("order-preference"),10);if((null===p||n<p)&&(p=a.val(),0===n))return!1}),null===p&&(p="new"),jQuery.each(m,function(e,t){var a=jQuery(t);if(a.val()===p)return a.iCheck("check"),a.closest(".cc-item").addClass("active"),!1}),o.show(),"1"!==hideCvcOnCheckoutForExistingCard?u.removeClass("hidden").show().find("input").removeAttr("disabled"):u.addClass("hidden").hide().find("input").attr("disabled","disabled"),jQuery(this).closest("#paymentGatewaysContainer").find("#existingCardsContainer").addClass("active"),jQuery(this).closest("#paymentGatewaysContainer").find("#newCardInfoTab").removeClass("active"),jQuery(this).closest("#paymentGatewaysContainer").find(".cc-input-container .nav-tabs .active").removeClass("active"),jQuery(this).closest("#paymentGatewaysContainer").find(".cc-input-container .nav-tabs li").first().addClass("active")}else jQuery(c).iCheck("check"),o.hide(),u.hide().find("input").attr("disabled","disabled"),jQuery(this).closest("#paymentGatewaysContainer").find("#existingCardsContainer").removeClass("active"),jQuery(this).closest("#paymentGatewaysContainer").find("#newCardInfoTab").addClass("active"),jQuery(this).closest("#paymentGatewaysContainer").find(".cc-input-container .nav-tabs .active").removeClass("active"),jQuery(this).closest("#paymentGatewaysContainer").find(".cc-input-container .nav-tabs li").last().addClass("active"),d.show();h.is(":visible")||($("#creditCardInputFields .panel").show(),h.removeClass("hidden"))}else h.removeClass("has-animate-height"),$("#creditCardInputFields .panel").show(),h.addClass("hidden")}),jQuery(".cc-input-container .paymethod-info").click(function(){var e=$(this).data("paymethod-id"),t=jQuery('input[name="ccinfo"][value='+e+"]:not(:disabled)");t.length>0&&t.iCheck("check")}),$("button.btn-checkout").on("click",function(){if($("#submit-checkout").trigger("click"),$("#paymentGatewaysContainer [data-inputs-container] > [data-virtual-input]:not(.checked)").addClass("disabled"),$('#paymentGatewaysContainer [data-inputs-container] > [data-virtual-input]:not(.checked) input[type="radio"]').prop("disabled",!0),$(".gateway-errors").length>0){setTimeout(function(){var e=$(".gateway-errors");"undefined"==$(e).attr("style")||null==$(e).attr("style")?$(e).hasClass("w-hidden")||""==$(e)[0].innerText&&!$(e).not(":empty")||($("#checkout .loader").addClass("hidden"),$("#checkout span").removeClass("invisible hidden"),$("#checkout2 .loader").addClass("hidden"),$("#checkout2 span").removeClass("invisible hidden"),$("#paymentGatewaysContainer > [data-inputs-container] > [data-virtual-input]").removeClass("disabled"),$('#paymentGatewaysContainer [data-inputs-container] > [data-virtual-input] input[type="radio"]').prop("disabled",!1),$(".btn-checkout").removeClass("disabled").prop("disabled",!1)):$(e).hasClass("w-hidden")&&!$(e).attr("style").includes("display: block;")||""==$(e)[0].innerText&&!$(e).not(":empty")||($("#checkout .loader").addClass("hidden"),$("#checkout span").removeClass("invisible hidden"),$("#checkout2 .loader").addClass("hidden"),$("#checkout2 span").removeClass("invisible hidden"),$("#paymentGatewaysContainer > [data-inputs-container] > [data-virtual-input]").removeClass("disabled"),$('#paymentGatewaysContainer [data-inputs-container] > [data-virtual-input] input[type="radio"]').prop("disabled",!1),$(".btn-checkout").removeClass("disabled").prop("disabled",!1))},1500);let e=$("#frmCheckout").find("input");e.each(function(){!1===$(this)[0].validity.valid&&setTimeout(function(){$("#checkout .loader").addClass("hidden"),$("#checkout span").removeClass("invisible hidden"),$("#checkout2 .loader").addClass("hidden"),$("#checkout2 span").removeClass("invisible hidden"),$("#paymentGatewaysContainer > [data-inputs-container] > [data-virtual-input]").removeClass("disabled"),$('#paymentGatewaysContainer [data-inputs-container] > [data-virtual-input] input[type="radio"]').prop("disabled",!1),$(".btn-checkout").removeClass("disabled").prop("disabled",!1)},1500)})}}),jQuery("#inputDomainContact").on("change",function(){"addingnew"==this.value?jQuery("#domainRegistrantInputFields").hide().removeClass("hidden").slideDown():jQuery("#domainRegistrantInputFields").slideUp()}),jQuery(".mc-promo .btn-add").click(function(e){var t=jQuery(this);t.attr("disabled","disabled").find("span.arrow i").removeClass("fa-chevron-right").addClass("fa-spinner fa-spin"),WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php",{a:"addUpSell",product_key:t.data("product-key"),token:csrfToken},function(e){void 0===e.modal?window.location.reload(!0):openModal(e.modal,"",e.modalTitle,"","",e.modalSubmit,e.modelSubmitId)},"json")}),jQuery(document).on("click","#btnAddUpSellCheckout",function(e){var t=jQuery("#upsellModalForm");return WHMCS.http.jqClient.post(whmcsBaseUrl+"/cart.php",t.serialize(),function(e){e.done&&jQuery("#totalCartPrice").text(e.newTotal)},"json"),!1}),jQuery(".mc-promo .header").on("click",function(e){e.preventDefault(),jQuery(e.target).is(".btn, .btn span,.btn .ls")||(jQuery(this).parent().find(".rotate").hasClass("lm-plus")?jQuery(this).parent().find(".rotate").removeClass("lm-plus").addClass("lm-minus"):jQuery(this).parent().find(".rotate").removeClass("lm-minus").addClass("lm-plus"),jQuery(this).parent().find(".body").slideToggle("fast"))}),jQuery(".mc-promos.viewcart .mc-promo:first-child .header").click(),checkoutForm=jQuery("#frmCheckout"),checkoutForm.length&&checkoutForm.on("submit",validateCheckoutCreditCardInput),jQuery(".payment-methods:checked").trigger("ifChecked"),o.is(":visible")&&d.hide(),jQuery("[data-tos-checkbox]").on("ifChanged",function(){checkTos(jQuery(this).prop("checked"))}),checkTos(jQuery("[data-tos-checkbox]").prop("checked"))}),jQuery(document).ready(function(){if($(".gateway-errors").length>0){function e(e){e.forEach(function(e){((!$(e.target).hasClass("w-hidden")||$(e.target).attr("style").includes("display: block;"))&&""!=$(e.target)[0].innerText||$(e.target).not(":empty"))&&($("#checkout .loader").addClass("hidden"),$("#checkout span").removeClass("invisible hidden"),$("#checkout2 .loader").addClass("hidden"),$("#checkout2 span").removeClass("invisible hidden"),$("#paymentGatewaysContainer [data-inputs-container] > [data-virtual-input]").removeClass("disabled"),$('#paymentGatewaysContainer [data-inputs-container] > [data-virtual-input] input[type="radio"]').prop("disabled",!1),$(".btn-checkout").removeClass("disabled").prop("disabled",!1))})}var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,a=document.querySelector(".gateway-errors"),n=new t(e),i={characterData:!1,attributes:!1,childList:!0,subtree:!0};n.observe(a,i)}jQuery("[data-radio-tab]").on("click",function(){"#existingCardsContainer"==$(this).attr("href")&&(selectPreferredCard(),$("#existingCardsContainer").find('input[type="radio"]:checked').closest(".cc-item").addClass("active"))})});